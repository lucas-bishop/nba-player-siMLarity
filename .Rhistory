html_pages <- c(1:3) %>%
paste("https://basketball.realgm.com/nba/stats/2019/Misc_Stats/Qualified/dbl_dbl/All/desc/",.)
traditional <- read_csv("datafun/36minutes.csv") %>% select(-badcol)
advanced <- read_csv("datafun/advancedNBA.csv") %>% select(-badcol)
# make last df with our above functions
#extra <- map_dfr(html_pages, pull_player_data)
#check if these table numbers change uponreload: they do, change script to pull all tables
extra1 <- read_html("https://basketball.realgm.com/nba/stats/2019/Misc_Stats/Qualified/dbl_dbl/All/desc/ 1") %>%
html_table("table#table-4978.tablesaw.compact.tablesaw-stack", header = NA, fill = TRUE)
extra2 <- read_html("https://basketball.realgm.com/nba/stats/2019/Misc_Stats/Qualified/dbl_dbl/All/desc/ 1") %>%
html_table("table#table-3944.tablesaw.compact.tablesaw-stack", header = NA, fill = TRUE)
extra3 <- read_html("https://basketball.realgm.com/nba/stats/2019/Misc_Stats/Qualified/dbl_dbl/All/desc/ 1") %>%
html_table("table#table-4392.tablesaw.compact.tablesaw-stack", header = NA, fill = TRUE)
library(tidyverse)
library(rvest)
html_pages <- c(1:3) %>%
paste("https://basketball.realgm.com/nba/stats/2019/Misc_Stats/Qualified/dbl_dbl/All/desc/",.)
traditional <- read_csv("datafun/36minutes.csv") %>% select(-badcol)
advanced <- read_csv("datafun/advancedNBA.csv") %>% select(-badcol)
# make last df with our above functions
#extra <- map_dfr(html_pages, pull_player_data)
#check if these table numbers change uponreload: they do, change script to pull all tables
extra1 <- read_html("https://basketball.realgm.com/nba/stats/2019/Misc_Stats/Qualified/dbl_dbl/All/desc/ 1") %>%
html_table("table#table-4978.tablesaw.compact.tablesaw-stack", header = NA, fill = TRUE)
extra2 <- read_html("https://basketball.realgm.com/nba/stats/2019/Misc_Stats/Qualified/dbl_dbl/All/desc/ 1") %>%
html_table("table#table-3944.tablesaw.compact.tablesaw-stack", header = NA, fill = TRUE)
extra3 <- read_html("https://basketball.realgm.com/nba/stats/2019/Misc_Stats/Qualified/dbl_dbl/All/desc/ 1") %>%
html_table("table#table-4392.tablesaw.compact.tablesaw-stack", header = NA, fill = TRUE)
View(extra1)
misc <- rbind(extra1[[1]], extra2[[1]], extra3[[1]]) %>% select(-'#')
merged_stats <- inner_join(traditional, advanced) %>% select(-Rk)
setwd("~/Documents/NBA player siMLarity")
traditional <- read_csv("data/36minutes.csv") %>% select(-badcol)
advanced <- read_csv("data/advancedNBA.csv") %>% select(-badcol)
merged_stats <- inner_join(traditional, advanced) %>% select(-Rk)
misc$Player=gsub(",", "", misc$Player, fixed = TRUE)
#Now have full data frame with combined data - can add more columns if I find extra exportable stats websites
merged_stats <- full_join(merged_stats, misc, by = 'Player') %>% unique()
#Now have full data frame with combined data - can add more columns if I find extra exportable stats websites
full_stats <- full_join(merged_stats, misc, by = 'Player') %>% unique()
merged_stats <- inner_join(traditional, advanced) %>% select(-Rk)
merged_stats$Player[!(merged_stats$Player %in% misc$Player)]
merged_stats$Player[(merged_stats$Player %in% misc$Player)]
View(misc)
merged_stats$Player[!(merged_stats$Player %in% misc$Player)]
tail(merged_stats, n=50)
merged_stats %>% filter(Player == "Hasssan Whiteside")
merged_stats %>% filter(Player == "Hassan Whiteside")
merged_stats <- inner_join(traditional, advanced) %>% select(-Rk)
#Now have full data frame with combined data - can add more columns if I find extra exportable stats websites
full_stats <- full_join(merged_stats, misc, by = 'Player') %>% unique()
colnames(full_stats)
View(misc)
merged_stats %>% filter(Player == "Andre Drummond")
misc <- rbind(extra1[[1]], extra2[[1]], extra3[[1]]) %>% select(-'#', -"OWS", -"DWS", -"WS")
#Now have full data frame with combined data - can add more columns if I find extra exportable stats websites
full_stats <- full_join(merged_stats, misc, by = 'Player') %>% unique()
